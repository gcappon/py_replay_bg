import{_ as k}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,a as h,b as a,f as s,d as l,e as n,r as p,o as d}from"./app-28LLfHwN.js";const r={};function y(g,i){const t=p("RouteLink");return d(),e("div",null,[i[24]||(i[24]=h(`<h1 id="get-started" tabindex="-1"><a class="header-anchor" href="#get-started"><span>Get started</span></a></h1><h2 id="installation" tabindex="-1"><a class="header-anchor" href="#installation"><span>Installation</span></a></h2><p><strong>ReplayBG</strong> can be installed via pypi by simply</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-dark:#cdd6f4;--shiki-light:#4c4f69;--shiki-dark-bg:#1e1e2e;--shiki-light-bg:#eff1f5;"><pre class="shiki shiki-themes catppuccin-mocha catppuccin-latte vp-code"><code><span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">pip install py</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">-</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">replay</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">-</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">bg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="requirements" tabindex="-1"><a class="header-anchor" href="#requirements"><span>Requirements</span></a></h3><ul><li>Python &gt;= 3.11</li><li>List of Python packages in <code>requirements.txt</code></li></ul><h2 id="preparation-imports-setup-and-data-loading" tabindex="-1"><a class="header-anchor" href="#preparation-imports-setup-and-data-loading"><span>Preparation: imports, setup, and data loading</span></a></h2><p>First of all import the core modules:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-dark:#cdd6f4;--shiki-light:#4c4f69;--shiki-dark-bg:#1e1e2e;--shiki-light-bg:#eff1f5;"><pre class="shiki shiki-themes catppuccin-mocha catppuccin-latte vp-code"><code><span class="line"><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">import</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> os</span></span>
<span class="line"><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">import</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> numpy </span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">as</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> np</span></span>
<span class="line"><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">import</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> pandas </span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">as</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> pd</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">from</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> multiprocessing </span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">import</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> freeze_support</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Here, <code>os</code> will be used to manage the filesystem, <code>numpy</code> and <code>pandas</code> to manipulate and manage the data to be used, and <code>multiprocessing.freeze_support</code> to enable multiprocessing functionalities and run the twinning procedure in a faster, parallelized way.</p><p>Then, we will import the necessary ReplayBG modules:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-dark:#cdd6f4;--shiki-light:#4c4f69;--shiki-dark-bg:#1e1e2e;--shiki-light-bg:#eff1f5;"><pre class="shiki shiki-themes catppuccin-mocha catppuccin-latte vp-code"><code><span class="line"><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">from</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> py_replay_bg</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">py_replay_bg </span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">import</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> ReplayBG</span></span>
<span class="line"><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">from</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> py_replay_bg</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">visualizer </span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">import</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> Visualizer</span></span>
<span class="line"><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">from</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> py_replay_bg</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">analyzer </span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">import</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> Analyzer</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,12)),a("p",null,[i[3]||(i[3]=s("Here, ")),i[4]||(i[4]=a("code",null,"ReplayBG",-1)),i[5]||(i[5]=s(" is the core ReplayBG object (more information in the ")),l(t,{to:"/documentation/replaybg_object.html"},{default:n(()=>i[0]||(i[0]=[s("The ReplayBG Object")])),_:1}),i[6]||(i[6]=s(" page), while ")),i[7]||(i[7]=a("code",null,"Analyzer",-1)),i[8]||(i[8]=s(" and ")),i[9]||(i[9]=a("code",null,"Visualizer",-1)),i[10]||(i[10]=s(" are utility objects that will be used to respectively analyze and visualize the results that we will produce with ReplayBG (more information in the (")),l(t,{to:"/documentation/visualizing_replay_results.html"},{default:n(()=>i[1]||(i[1]=[s("Visualizing Replay Results")])),_:1}),i[11]||(i[11]=s(" and ")),l(t,{to:"/documentation/analyzing_replay_results.html"},{default:n(()=>i[2]||(i[2]=[s("Analyzing Replay Results")])),_:1}),i[12]||(i[12]=s(" pages)."))]),i[25]||(i[25]=h(`<p>Next steps consist of setting up some variables that will be used by ReplayBG environment. First of all, we will run the twinning procedure in a parallelized way so let&#39;s start with:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-dark:#cdd6f4;--shiki-light:#4c4f69;--shiki-dark-bg:#1e1e2e;--shiki-light-bg:#eff1f5;"><pre class="shiki shiki-themes catppuccin-mocha catppuccin-latte vp-code"><code><span class="line"><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">if</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> __name__ </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">==</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;"> &#39;__main__&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">:</span></span>
<span class="line"><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">    freeze_support</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Then, we will set the verbosity of ReplayBG:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-dark:#cdd6f4;--shiki-light:#4c4f69;--shiki-dark-bg:#1e1e2e;--shiki-light-bg:#eff1f5;"><pre class="shiki shiki-themes catppuccin-mocha catppuccin-latte vp-code"><code><span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    verbose </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;"> True</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    plot_mode </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;"> False</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Then, we need to decide what blueprint to use for twinning the data at hand.</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-dark:#cdd6f4;--shiki-light:#4c4f69;--shiki-dark-bg:#1e1e2e;--shiki-light-bg:#eff1f5;"><pre class="shiki shiki-themes catppuccin-mocha catppuccin-latte vp-code"><code><span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    blueprint </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;"> &#39;multi-meal&#39;</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    save_folder </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> os</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">path</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">join</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">os</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">path</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">abspath</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">),</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;..&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;..&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;..&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">)</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    parallelize </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;"> True</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6)),a("p",null,[i[14]||(i[14]=s("For more information on how to choose a blueprint, please refer to the ")),l(t,{to:"/documentation/choosing_blueprint.html"},{default:n(()=>i[13]||(i[13]=[s("Choosing Blueprint")])),_:1}),i[15]||(i[15]=s(" page."))]),i[26]||(i[26]=h(`<p>Now, let&#39;s load some data to play with. In this example, we will use the data stored in <code>example/data/data_day_1.csv</code> which contains a day of data of a patient with T1D:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-dark:#cdd6f4;--shiki-light:#4c4f69;--shiki-dark-bg:#1e1e2e;--shiki-light-bg:#eff1f5;"><pre class="shiki shiki-themes catppuccin-mocha catppuccin-latte vp-code"><code><span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">data </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> pd</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">read_csv</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">os</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">path</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">join</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">os</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">path</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">abspath</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">),</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;"> &#39;..&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;"> &#39;data&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;"> &#39;data_day_1.csv&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">))</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">data</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">t </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> pd</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">to_datetime</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">data</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">[</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#A6E3A1;--shiki-dark-font-style:italic;--shiki-light:#40A02B;--shiki-light-font-style:italic;">t</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">])</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>Be careful, data in PyReplayBG must be provided in a <code>.csv.</code> file that must follow some strict requirements. For more information see the <a href="./data_requirements">Data Requirements</a> page.</p></div><p>Let&#39;s also load the patient information (i.e., body weight and basal insulin <code>u2ss</code>) stored in the <code>example/data/patient_info.csv</code> file.</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-dark:#cdd6f4;--shiki-light:#4c4f69;--shiki-dark-bg:#1e1e2e;--shiki-light-bg:#eff1f5;"><pre class="shiki shiki-themes catppuccin-mocha catppuccin-latte vp-code"><code><span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">patient_info </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> pd</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">read_csv</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">os</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">path</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">join</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">os</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">path</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">abspath</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">),</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;"> &#39;..&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;"> &#39;data&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;"> &#39;patient_info.csv&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">))</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">p </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> np</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">where</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">patient_info</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">[</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#A6E3A1;--shiki-dark-font-style:italic;--shiki-light:#40A02B;--shiki-light-font-style:italic;">patient</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">]</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;"> ==</span><span style="--shiki-dark:#FAB387;--shiki-light:#FE640B;"> 1</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">)[</span><span style="--shiki-dark:#FAB387;--shiki-light:#FE640B;">0</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">][</span><span style="--shiki-dark:#FAB387;--shiki-light:#FE640B;">0</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">]</span></span>
<span class="line"><span style="--shiki-dark:#6C7086;--shiki-dark-font-style:italic;--shiki-light:#9CA0B0;--shiki-light-font-style:italic;"># Set bw and u2ss</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">bw </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#FAB387;--shiki-dark-font-style:italic;--shiki-light:#FE640B;--shiki-light-font-style:italic;"> float</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">patient_info</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">bw</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">values</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">[</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">p</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">])</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">u2ss </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#FAB387;--shiki-dark-font-style:italic;--shiki-light:#FE640B;--shiki-light-font-style:italic;"> float</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">patient_info</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">u2ss</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">values</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">[</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">p</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">])</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Finally, instantiate a <code>ReplayBG</code> object:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-dark:#cdd6f4;--shiki-light:#4c4f69;--shiki-dark-bg:#1e1e2e;--shiki-light-bg:#eff1f5;"><pre class="shiki shiki-themes catppuccin-mocha catppuccin-latte vp-code"><code><span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">rbg </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;"> ReplayBG</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">blueprint</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">blueprint</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> save_folder</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">save_folder</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">               yts</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#FAB387;--shiki-light:#FE640B;">5</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> exercise</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">False</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">               seed</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#FAB387;--shiki-light:#FE640B;">1</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">               verbose</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">verbose</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> plot_mode</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">plot_mode</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="step-1-creation-of-the-digital-twin" tabindex="-1"><a class="header-anchor" href="#step-1-creation-of-the-digital-twin"><span>Step 1: Creation of the digital twin</span></a></h2><p>To create the digital twin, i.e., run the twinning procedure, using the MCMC method, use the <code>rbg.twin()</code> method:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-dark:#cdd6f4;--shiki-light:#4c4f69;--shiki-dark-bg:#1e1e2e;--shiki-light-bg:#eff1f5;"><pre class="shiki shiki-themes catppuccin-mocha catppuccin-latte vp-code"><code><span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">rbg</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">twin</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">data</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">data</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> bw</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">bw</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> save_name</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;data_day_1&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">         twinning_method</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;mcmc&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">         parallelize</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">parallelize</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">         n_steps</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#FAB387;--shiki-light:#FE640B;">5000</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">         u2ss</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">u2ss</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10)),a("p",null,[i[17]||(i[17]=s("For more information on the twinning procedure see the ")),l(t,{to:"/documentation/twinning_procedure.html"},{default:n(()=>i[16]||(i[16]=[s("Twinning Procedure")])),_:1}),i[18]||(i[18]=s(" page."))]),i[27]||(i[27]=a("h2",{id:"step-2-run-replay-simulations",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#step-2-run-replay-simulations"},[a("span",null,"Step 2: Run replay simulations")])],-1)),a("p",null,[i[20]||(i[20]=s("Now that we have the digital twin created, it's time to replay using the ")),i[21]||(i[21]=a("code",null,"rbg.replay()",-1)),i[22]||(i[22]=s(" method. For more details see the ")),l(t,{to:"/documentation/replaying.html"},{default:n(()=>i[19]||(i[19]=[s("Replaying")])),_:1}),i[23]||(i[23]=s(" page."))]),i[28]||(i[28]=h(`<p>The possibilities are several, but for now let&#39;s just see what happens if we run a replay using the same input data used for twinning:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-dark:#cdd6f4;--shiki-light:#4c4f69;--shiki-dark-bg:#1e1e2e;--shiki-light-bg:#eff1f5;"><pre class="shiki shiki-themes catppuccin-mocha catppuccin-latte vp-code"><code><span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">replay_results </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> rbg</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">replay</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">data</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">data</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> bw</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">bw</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> save_name</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;data_day_1&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">                            twinning_method</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;mcmc&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">                            save_workspace</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">True</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">                            u2ss</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">u2ss</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">                            save_suffix</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;_step_2a&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>It is possible to visualize the results of the simulation using:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-dark:#cdd6f4;--shiki-light:#4c4f69;--shiki-dark-bg:#1e1e2e;--shiki-light-bg:#eff1f5;"><pre class="shiki shiki-themes catppuccin-mocha catppuccin-latte vp-code"><code><span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">Visualizer</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">plot_replay_results</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">replay_results</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> data</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">data</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>and analyzing the results using:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-dark:#cdd6f4;--shiki-light:#4c4f69;--shiki-dark-bg:#1e1e2e;--shiki-light-bg:#eff1f5;"><pre class="shiki shiki-themes catppuccin-mocha catppuccin-latte vp-code"><code><span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">analysis </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> Analyzer</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">analyze_replay_results</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">replay_results</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> data</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">data</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">)</span></span>
<span class="line"><span style="--shiki-dark:#FAB387;--shiki-dark-font-style:italic;--shiki-light:#FE640B;--shiki-light-font-style:italic;">print</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;Fit MARD: </span><span style="--shiki-dark:#F5C2E7;--shiki-light:#EA76CB;">%.2f</span><span style="--shiki-dark:#F5C2E7;--shiki-light:#EA76CB;"> %%</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;"> %</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> analysis</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">[</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#A6E3A1;--shiki-dark-font-style:italic;--shiki-light:#40A02B;--shiki-light-font-style:italic;">median</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">][</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;twin&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">][</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;mard&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">])</span></span>
<span class="line"><span style="--shiki-dark:#FAB387;--shiki-dark-font-style:italic;--shiki-light:#FE640B;--shiki-light-font-style:italic;">print</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;Mean glucose: </span><span style="--shiki-dark:#F5C2E7;--shiki-light:#EA76CB;">%.2f</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;"> mg/dl&#39;</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;"> %</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> analysis</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">[</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#A6E3A1;--shiki-dark-font-style:italic;--shiki-light:#40A02B;--shiki-light-font-style:italic;">median</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">][</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;glucose&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">][</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;variability&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">][</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;mean_glucose&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">])</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As a second example, we can simulate what happens with different inputs, for example when we reduce insulin by 30%. To do that run:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-dark:#cdd6f4;--shiki-light:#4c4f69;--shiki-dark-bg:#1e1e2e;--shiki-light-bg:#eff1f5;"><pre class="shiki shiki-themes catppuccin-mocha catppuccin-latte vp-code"><code><span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">data</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">bolus </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> data</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">bolus </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">*</span><span style="--shiki-dark:#FAB387;--shiki-light:#FE640B;"> .7</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">replay_results </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> rbg</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">replay</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">data</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">data</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> bw</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">bw</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> save_name</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">save_name</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">                            twinning_method</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;mcmc&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">                            save_workspace</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">True</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">                            save_suffix</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;_step_2b&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#6C7086;--shiki-dark-font-style:italic;--shiki-light:#9CA0B0;--shiki-light-font-style:italic;"># Visualize results</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">Visualizer</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">plot_replay_results</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">replay_results</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">)</span></span>
<span class="line"><span style="--shiki-dark:#6C7086;--shiki-dark-font-style:italic;--shiki-light:#9CA0B0;--shiki-light-font-style:italic;"># Analyze results</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">analysis </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> Analyzer</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">analyze_replay_results</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">replay_results</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#6C7086;--shiki-dark-font-style:italic;--shiki-light:#9CA0B0;--shiki-light-font-style:italic;"># Print, for example, the average glucose</span></span>
<span class="line"><span style="--shiki-dark:#FAB387;--shiki-dark-font-style:italic;--shiki-light:#FE640B;--shiki-light-font-style:italic;">print</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;Mean glucose: </span><span style="--shiki-dark:#F5C2E7;--shiki-light:#EA76CB;">%.2f</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;"> mg/dl&#39;</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;"> %</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> analysis</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">[</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#A6E3A1;--shiki-dark-font-style:italic;--shiki-light:#40A02B;--shiki-light-font-style:italic;">median</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">][</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;glucose&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">][</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;variability&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">][</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;mean_glucose&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">])</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="full-example" tabindex="-1"><a class="header-anchor" href="#full-example"><span>Full example</span></a></h2><p>A <code>.py</code> file with the full code of the get started example can be found in <code>example/code/get_started.py</code>.</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-dark:#cdd6f4;--shiki-light:#4c4f69;--shiki-dark-bg:#1e1e2e;--shiki-light-bg:#eff1f5;"><pre class="shiki shiki-themes catppuccin-mocha catppuccin-latte vp-code"><code><span class="line"><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">import</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> os</span></span>
<span class="line"><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">import</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> numpy </span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">as</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> np</span></span>
<span class="line"><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">import</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> pandas </span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">as</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> pd</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">from</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> multiprocessing </span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">import</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> freeze_support</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">from</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> py_replay_bg</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">py_replay_bg </span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">import</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> ReplayBG</span></span>
<span class="line"><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">from</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> py_replay_bg</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">visualizer </span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">import</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> Visualizer</span></span>
<span class="line"><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">from</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> py_replay_bg</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">analyzer </span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">import</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> Analyzer</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">if</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> __name__ </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">==</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;"> &#39;__main__&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">:</span></span>
<span class="line"><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">    freeze_support</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#6C7086;--shiki-dark-font-style:italic;--shiki-light:#9CA0B0;--shiki-light-font-style:italic;">    # Set verbosity</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    verbose </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;"> True</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    plot_mode </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;"> False</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#6C7086;--shiki-dark-font-style:italic;--shiki-light:#9CA0B0;--shiki-light-font-style:italic;">    # Set other parameters for twinning</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    blueprint </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;"> &#39;multi-meal&#39;</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    save_folder </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> os</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">path</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">join</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">os</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">path</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">abspath</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">),</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;..&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;..&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;..&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">)</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    parallelize </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;"> True</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    </span></span>
<span class="line"><span style="--shiki-dark:#6C7086;--shiki-dark-font-style:italic;--shiki-light:#9CA0B0;--shiki-light-font-style:italic;">    # Load data</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    data </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> pd</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">read_csv</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">os</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">path</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">join</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">os</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">path</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">abspath</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">),</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;"> &#39;..&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;"> &#39;data&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;"> &#39;data_day_1.csv&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">))</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    data</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">t </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> pd</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">to_datetime</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">data</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">[</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#A6E3A1;--shiki-dark-font-style:italic;--shiki-light:#40A02B;--shiki-light-font-style:italic;">t</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">])</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    </span></span>
<span class="line"><span style="--shiki-dark:#6C7086;--shiki-dark-font-style:italic;--shiki-light:#9CA0B0;--shiki-light-font-style:italic;">    # Load patient_info</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    patient_info </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> pd</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">read_csv</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">os</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">path</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">join</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">os</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">path</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">abspath</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">),</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;"> &#39;..&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;"> &#39;data&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;"> &#39;patient_info.csv&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">))</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    p </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> np</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">where</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">patient_info</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">[</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#A6E3A1;--shiki-dark-font-style:italic;--shiki-light:#40A02B;--shiki-light-font-style:italic;">patient</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">]</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;"> ==</span><span style="--shiki-dark:#FAB387;--shiki-light:#FE640B;"> 1</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">)[</span><span style="--shiki-dark:#FAB387;--shiki-light:#FE640B;">0</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">][</span><span style="--shiki-dark:#FAB387;--shiki-light:#FE640B;">0</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">]</span></span>
<span class="line"><span style="--shiki-dark:#6C7086;--shiki-dark-font-style:italic;--shiki-light:#9CA0B0;--shiki-light-font-style:italic;">    # Set bw and u2ss</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    bw </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#FAB387;--shiki-dark-font-style:italic;--shiki-light:#FE640B;--shiki-light-font-style:italic;"> float</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">patient_info</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">bw</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">values</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">[</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">p</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">])</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    u2ss </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#FAB387;--shiki-dark-font-style:italic;--shiki-light:#FE640B;--shiki-light-font-style:italic;"> float</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">patient_info</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">u2ss</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">values</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">[</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">p</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">])</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    </span></span>
<span class="line"><span style="--shiki-dark:#6C7086;--shiki-dark-font-style:italic;--shiki-light:#9CA0B0;--shiki-light-font-style:italic;">    # Instantiate ReplayBG</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    rbg </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;"> ReplayBG</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">blueprint</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">blueprint</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> save_folder</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">save_folder</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">                   yts</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#FAB387;--shiki-light:#FE640B;">5</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> exercise</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">False</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">                   seed</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#FAB387;--shiki-light:#FE640B;">1</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">                   verbose</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">verbose</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> plot_mode</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">plot_mode</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#6C7086;--shiki-dark-font-style:italic;--shiki-light:#9CA0B0;--shiki-light-font-style:italic;">    # Set save name</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    save_name </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;"> &#39;data_day_1&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#6C7086;--shiki-dark-font-style:italic;--shiki-light:#9CA0B0;--shiki-light-font-style:italic;">    # Step 1. Run twinning procedure</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    rbg</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">twin</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">data</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">data</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> bw</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">bw</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> save_name</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">save_name</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">             twinning_method</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;mcmc&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">             parallelize</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">parallelize</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">             n_steps</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#FAB387;--shiki-light:#FE640B;">5000</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">             u2ss</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">u2ss</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#6C7086;--shiki-dark-font-style:italic;--shiki-light:#9CA0B0;--shiki-light-font-style:italic;">    # Step 2a. Replay the twin with the same input data</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    replay_results </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> rbg</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">replay</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">data</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">data</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> bw</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">bw</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> save_name</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">save_name</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">                                twinning_method</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;mcmc&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">                                save_workspace</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">True</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">                                save_suffix</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;_step_2a&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#6C7086;--shiki-dark-font-style:italic;--shiki-light:#9CA0B0;--shiki-light-font-style:italic;">    # Visualize results and compare with the original glucose data</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    Visualizer</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">plot_replay_results</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">replay_results</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> data</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">data</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">)</span></span>
<span class="line"><span style="--shiki-dark:#6C7086;--shiki-dark-font-style:italic;--shiki-light:#9CA0B0;--shiki-light-font-style:italic;">    # Analyze results</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    analysis </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> Analyzer</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">analyze_replay_results</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">replay_results</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> data</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">data</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">)</span></span>
<span class="line"><span style="--shiki-dark:#6C7086;--shiki-dark-font-style:italic;--shiki-light:#9CA0B0;--shiki-light-font-style:italic;">    # Print, for example, the fit MARD and the average glucose</span></span>
<span class="line"><span style="--shiki-dark:#FAB387;--shiki-dark-font-style:italic;--shiki-light:#FE640B;--shiki-light-font-style:italic;">    print</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;Fit MARD: </span><span style="--shiki-dark:#F5C2E7;--shiki-light:#EA76CB;">%.2f</span><span style="--shiki-dark:#F5C2E7;--shiki-light:#EA76CB;"> %%</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;"> %</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> analysis</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">[</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#A6E3A1;--shiki-dark-font-style:italic;--shiki-light:#40A02B;--shiki-light-font-style:italic;">median</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">][</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;twin&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">][</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;mard&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">])</span></span>
<span class="line"><span style="--shiki-dark:#FAB387;--shiki-dark-font-style:italic;--shiki-light:#FE640B;--shiki-light-font-style:italic;">    print</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;Mean glucose: </span><span style="--shiki-dark:#F5C2E7;--shiki-light:#EA76CB;">%.2f</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;"> mg/dl&#39;</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;"> %</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> analysis</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">[</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#A6E3A1;--shiki-dark-font-style:italic;--shiki-light:#40A02B;--shiki-light-font-style:italic;">median</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">][</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;glucose&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">][</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;variability&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">][</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;mean_glucose&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#6C7086;--shiki-dark-font-style:italic;--shiki-light:#9CA0B0;--shiki-light-font-style:italic;">    # Step 2b. Replay the twin with different input data (-30% bolus insulin) to experiment how glucose changes</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    data</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">bolus </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> data</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">bolus </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">*</span><span style="--shiki-dark:#FAB387;--shiki-light:#FE640B;"> .7</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    replay_results </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> rbg</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">replay</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">data</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">data</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> bw</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">bw</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> save_name</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">save_name</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">                                twinning_method</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;mcmc&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">                                save_workspace</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CBA6F7;--shiki-light:#8839EF;">True</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">,</span></span>
<span class="line"><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;">                                save_suffix</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;_step_2b&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#6C7086;--shiki-dark-font-style:italic;--shiki-light:#9CA0B0;--shiki-light-font-style:italic;">    # Visualize results</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    Visualizer</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">plot_replay_results</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">replay_results</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">)</span></span>
<span class="line"><span style="--shiki-dark:#6C7086;--shiki-dark-font-style:italic;--shiki-light:#9CA0B0;--shiki-light-font-style:italic;">    # Analyze results</span></span>
<span class="line"><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">    analysis </span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;">=</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;"> Analyzer</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">.</span><span style="--shiki-dark:#89B4FA;--shiki-light:#1E66F5;">analyze_replay_results</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#CDD6F4;--shiki-light:#4C4F69;">replay_results</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#6C7086;--shiki-dark-font-style:italic;--shiki-light:#9CA0B0;--shiki-light-font-style:italic;">    # Print, for example, the average glucose</span></span>
<span class="line"><span style="--shiki-dark:#FAB387;--shiki-dark-font-style:italic;--shiki-light:#FE640B;--shiki-light-font-style:italic;">    print</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">(</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;Mean glucose: </span><span style="--shiki-dark:#F5C2E7;--shiki-light:#EA76CB;">%.2f</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;"> mg/dl&#39;</span><span style="--shiki-dark:#94E2D5;--shiki-light:#179299;"> %</span><span style="--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;--shiki-light:#E64553;--shiki-light-font-style:italic;"> analysis</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">[</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#A6E3A1;--shiki-dark-font-style:italic;--shiki-light:#40A02B;--shiki-light-font-style:italic;">median</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">][</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;glucose&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">][</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;variability&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">][</span><span style="--shiki-dark:#A6E3A1;--shiki-light:#40A02B;">&#39;mean_glucose&#39;</span><span style="--shiki-dark:#9399B2;--shiki-light:#7C7F93;">])</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,11))])}const C=k(r,[["render",y],["__file","get_started.html.vue"]]),o=JSON.parse('{"path":"/documentation/get_started.html","title":"Get started","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Installation","slug":"installation","link":"#installation","children":[{"level":3,"title":"Requirements","slug":"requirements","link":"#requirements","children":[]}]},{"level":2,"title":"Preparation: imports, setup, and data loading","slug":"preparation-imports-setup-and-data-loading","link":"#preparation-imports-setup-and-data-loading","children":[]},{"level":2,"title":"Step 1: Creation of the digital twin","slug":"step-1-creation-of-the-digital-twin","link":"#step-1-creation-of-the-digital-twin","children":[]},{"level":2,"title":"Step 2: Run replay simulations","slug":"step-2-run-replay-simulations","link":"#step-2-run-replay-simulations","children":[]},{"level":2,"title":"Full example","slug":"full-example","link":"#full-example","children":[]}],"git":{"createdTime":1708614091000,"updatedTime":1733912166000,"contributors":[{"name":"Giacomo Cappon","username":"Giacomo Cappon","email":"cappongiacomo@gmail.com","commits":10,"url":"https://github.com/Giacomo Cappon"},{"name":"Rigo-m","username":"Rigo-m","email":"matteo.rigoni@atoms.retex.com","commits":1,"url":"https://github.com/Rigo-m"}]},"readingTime":{"minutes":3.11,"words":932},"filePathRelative":"documentation/get_started.md","localizedDate":"February 22, 2024"}');export{C as comp,o as data};
